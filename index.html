<!DOCTYPE html> 
<html>
<head>
<title>CANELA</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>
<body>
<!--<body ondragstart="return false" onselectstart="return false" oncontextmenu="return false">-->
<div data-role="header" data-position="fixed"><h4>WIKI UMPA LUMPA</h4></div>

<ul data-role="listview" data-filter="true" data-filter-placeholder="Busca y encontrarás..." data-inset="true">	
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Doctor peticiones servicio</h3>
<ul>
<li>select * from seg2500 where seg25codparam='signdr_srq'</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosificaciones con fijar volumen</h3>
<ul>
<li>select b.fch50codint, b.fch50desproduct, a.fch61dose from fch.fch6100 a, fch5000 b where a.fch50idproduct=b.fch50idproduct and a.est01codcenter in(3) and a.fch61swtcteconc = 0</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosificaciones vacías</h3>
<ul>
<li>select b.fch50codint, b.fch50desproduct, a.fch61dose from fch.fch6100 a, fch5000 b where a.fch50idproduct=b.fch50idproduct and a.est01codcenter in(3) and a.fch61dose is null</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosis en la administración</h3>
<ul>
<li>select * from seg2500 where seg25codparam like 'mpnodosis%'</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosis usuales</h3>
<ul>
<li>select * from fch6100</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Eliminar TO-DO</h3>
<ul>
<li>Borrar la scr1000, que es la tabla donde se guardar la configuración de la pantalla de to-do por cada usuario.</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Enviar ZPL por CMD</h3>
<ul>
<li>copy c:\users\jluis\desktop\lbl4266.prn \\savac\hos1</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Error en presencia del producto</h3>
<ul>
<li>create or replace synonym savac.pet1002j for pet.pet1002j</li>
<br>
<li>create or replace synonym savac.pet1003j for pet.pet1003j</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Errores incremental</h3>
<ul>
<li>select * from est.est4500 where est45load in ('migpk.cargaproductos' ,'migpk.cargapresentaciones') order by est45date desc</li>
<br>
<li>En el esquema savac - jobs hay dos que se ejecutan en horas distintas.</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Espirales ROWA</h3>
<ul>
<li>select * from int9100</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Evitar pérdida de conexión GODEX</h3>
<ul>
<li>^xset,netsocketidletime,300</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Excipientes</h3>
<ul>
<li>select * from frs400</li>
<br>
<li>select * from frs501j</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Tipos de mensajes KARDEX</h3>
<ul>
<li>AC: Unidosis</li>
<li>PBP: Petición paciente</li>
<li>PBS: Petición a servicio</li>
<li>PBU: Petición urgente</li>
<li>PY: Reposición de PYXIS</li>
<li>CC: Reposición de doble cajón</li>
<li>MA: Movimiento manual</li>
<li>RE: Reposición de KARDEX</li>
<li>DC: Devolución de carro</li>
<li>CA: Cargo/abono</li>
<li>IN: Inventario</li>
<li>DA: Dispensación ambulante</li>
<li>DD: Devolución ambulante</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Al acceder a la PM se queda pensando</h3>
<ul>
<li>Para comprobar el usuario aparezca en la adm32, en la adm32 hay que revisar que los usuarios sean médicos.</li>
<br>
<li>select * from adm3200 a where adm11codproc_asist in (7193997)</li>
<br>
<li>select * from org0100 where org01id in (2129, 96)</li>
<br>
<li>org02codextcat corresponde con ad31codpuesto</li>
<br>
<li>select * from org0200d</li>
</ul>
</div>
	
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Fabricaciones kits</h3>
<ul>
<li>\\127.0.0.1 es impresora en local con el nombre zebrafarma1 que tiene que estar compartida.</li>
<br>
<li>Se debe copiar la carpeta etiqueta en la raíz de la instalación de savac.</li>
<br>
<li>En la sg2500 pone como debe llamarse la impresora de etiquetas, en este caso, zebrafarma1</li>
<br>
<li>select * from sg2500 where codparam='etiq' or codparam='impetiqfm' or codparam='impetiqfc'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Forma farmacéutica</h3>
<ul>
<li>select * from frh700</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Restricciones</h3>
<ul>
<li>select rowid, a.* from fch2900 a where fch29idrestric=525 ---asociar en MIRA el CODEXT de maestras de V3</li>
<br>
<li>select rowid, a.* from fch2900d a where fch29idrestric=525 ---descripción restricción MIRA</li>
<br>
<li>select * from fch2900d where fch29desrestric like '%cumple:%' ---buscar restricción en MIRA</li>
<br>
<li>select * from fch6300 where fch29idrestric=525 ---asociar restricción a un producto en MIRA</li>
<br>
<li>select rowid, a.* from fra120 a where fra12idrest=209 ---maestra restricciones V3</li>
<br>
<li>select rowid, a.* from fra900 a ---asociar restricción a una marca en V3</li>
<br>
<li>select rowid, a.* from fra110 a: ---asociar restricción a una presentación en V3</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Movimientos NUTRIWIN</h3>
<ul>
<li>select fr80fecmovimiento,fr80fecadd from fr8000 where fr80observmov like '%nutri%' order by fr80fecadd desc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>PVL/PVP</h3>
<ul>
<li>select * from frq100</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Llamada SELENE</h3>
<ul>
<li>http://10.181.27.228/mira/?nonav=true&corresp=1&timestamp=20200615140000&segfunproc=164&patientid=563566&processid=5827545&assistanceid=16639838</li>
<li>patientid=nhc</li>
<li>processid=proceso</li>
<li>assistanceid=asistencia</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Limpiar caché</h3>
<ul>
<li>select * from seg2500 where refcache=0</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Laboratorios/proveedor</h3>
<ul>
<li>select  rowid, a.fr79codproveedor_a,fr79codproveedor_b,fr79codproveedor_c from fr7300 a where fr73codnac='505171'</li>
<br>
<li>select * from fr7900 where fr79proveedor like 'abbott laboratories%'</li>
<br>
<li>select * from fch1100 where fch11provname  like 'abbott laboratories%'</li>
<br>
<li>Guru ha creado lo siguiente para los provedores que  no pasan de bdcm web a v3: he creado un pl que está en savac, lo he dejado tanto en caravaca como en el reina. se llama inserta_fr7900 y se encarga de insertar en v3 los laboratorios que han llegado a mira pero no tienen código externo que les permita relacionarlos con v3.</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Relación carro KARDEX</h3>
<ul>
<li><strong>Relación carro/departamento:</strong> select * from intgr.fr0700 where fr07descarro like 'hg-hdmq%'</li>
<br>
<li><strong>Código del carro y kardex al que va:</strong> select rowid, a.* from intgr.ar_carro a where fr07codcarro=46</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Teléfono oficina</h3>
<ul>
<li>General: 968 92 84 70</li>
<br>
<li>Sole: 662 637 442</li>
<br>
<li>JL: 662 637 454</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Servidor no responde</h3>
<ul>
<li>Si a la hora de firmar/validar sale el aviso de servidor no ha respondido puede ser que las rutas de la generación del pdf no este bien definida. para solucionar el error de manera temporal, eliminar la org200_directory</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Instalación pasiva SAVAC</h3>
<ul>
<li>msiexec.exe /x "nombre_instalador.msi" /qn ó msiexec.exe /x {dad46004-36c7-4575-82ab-f9dc5df654ac} /qn ---desinstalar</li>
<br>
<li>msiexec.exe /i "nombre_instalador.msi" /qn ---instalar</li>
<br>
<li>wmic product where name="savac integración" ---el guid se obtiene en CMD</li>
<br>
<li>wmic product get name product where name="savac integración" call uninstall ---desinstalar</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Regularizable</h3>
<ul>
<li>select rowid, a.frp10indregulariza from frp1000 a where frp10idpresentacion='3128'</li>
<br>
<li>select rowid, a.fr73indregulariza from fr7300 a where fr73codproducto='5488'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dispensaciones lote</h3>
<ul>
<li>select * from fru400</li>
<br>
<li>select * from fru700 where fr73codproducto='29326'</li>
<br>
<li>select * from fr4900 where fr49deslote='4n78c'</li>
<br>
<li>select * from fr6600</li>
<br>
<li>select * from fr7300 where fr73codintfar='p-348221'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cestas desde admin</h3>
<ul>
<li>select * from seg2500 where seg25codparam='bsqnopay'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dispensaciones</h3>
<ul>
<li>select * from fru400</li>
<br>
<li>select * from fru700</li>
<br>
<li>select * from fr6600</li>
<br>
<li>select * from pet6000</li>
<br>
<li>select * from frx0200 order by frx02fecproxdisp desc ---fecha próxima dispensación</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cabecera petición MIRA (cesta)</h3>
<ul>
<li>select * from fr6600  where ci21codpersona='15562' and fr66codpeticion='1370589'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Centros por usuario</h3>
<ul>
<li>select * from seg4000 where seg02id=1296</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Campos en modo lectura en V3</h3>
<ul>
<li>select * from fr1.frg200_frp001 ---lectura genéricos</li>
<br>
<li>select * from fr1.frg200_frp001 ---lectura presentaciones</li>
<br>
<li>select * from fr1.frg200_frp001 ---lectura marcas</li>
<br>
<li>select * from frg200 ---maestra</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cambiar estado PM en MIRA</h3>
<ul>
<li>select rowid, a.* from pet0000 a where pac01idpatient_int = 988165 order by pet00datadd desc</li>
<br>
<li>select * from pac0100 where pac01mrn = 5583862</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Buscar tablas</h3>
<ul>
<li>select * from all_tab_comments where upper(comments) like '%fra9codrest%'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Buscar petición urgente por NHC</h3>
<ul>
<li>select * from gc3600 a, gc3700 b, fr6600 c, ci2200 d where gc36codproceso = 'petprn' and a.gc36idproceso=b.gc36idproceso and fr66codpeticion=gc37pk1 and c.ci21codpersona=d.ci21codpersona and ci22numhistoria=98924</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Bloqueo PM SAVAC</h3>
<ul>
<li><strong>Eliminamos todos los registros:</strong> select * from frl800</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Bloquear usuario SAVAC/MIRA</h3>
<ul>
<li>select rowid, a.seg02datlockpssw from seg0200 a where seg02login='amc27a'</li>
<br>
<li>select rowid, a.sg02fecbpassw from sg0200 a where lower(sg02cod)='amc27a'</li>
</ul>
</div>
		
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Asistencias</h3>
<ul>
<li>select ad02coddpto, ad02desdpto from ad0200 where ad02desdpto like '%neu%' ---departamento</li>
<br>
<li>select * from ad0500 a where a.ad02coddpto=11 and a.ad01codasistenci in (select b.ad01codasistenci from ad0100 b where b.ci22numhistoria=15243) ---departamento/NHC</li>
<br>
<li>select * from ad0400 where ad07codproceso='12312009' ---buscar proceso para ver departamento</li>
<br>
<li>update ad0400 set ad02coddpto='18' where ad07codproceso='11180229' and ad02coddpto='9' ---cambiar departamento a través del proceso</li>
<br>
<li>select * from ad0500 where ad01codasistenci in (select b.ad01codasistenci from ad0100 b where b.ci22numhistoria='175155') ---asistencias por NHC</li>
<br>
<li>update ad0500 set ad02coddpto='18' where ad01codasistenci in (20755165) and ad02coddpto='9' ---update ad0500 para cambiar departamento por otro</li>
<br>
<li>select * from ad0300 where sg02cod='jho22k' ---departamentos usuario</li>
<br>
<li>update ad0300 set ad02coddpto='10' where sg02cod='jho22k' and ad02coddpto='15' ---update departamentos usuario</li>
<br>
<li>select * from ad0100 a where ad01codasistenci in (2098862530) ---ad0100</li>
<br>
<li>update ad0100 set ad01fecfin='' where ad01codasistenci in (23418965) ---update ad0100 para abrir asistencia con fecha fin a null</li>
<br>
<li>select * from ad0500 a where ad01codasistenci in (2098792224, 2098894708, 2098897884) ---ad0500</li>
<br>
<li>update ad0500 set ad05fecfinrespon='' where ad01codasistenci in (23418965) ---update ad0500 para abrir asistencia con fecha fin a null</li>
<br>
<li>select * from ad0800 a where ad01codasistenci in (2098792224) ---ad0800</strong></li>
<br>
<li>update ad0800 set ad08fecfin='' where ad01codasistenci in (23418965) ---update ad0800 para abrir asistencia con fecha fin a null</li>
<p></p>
<br>
</ul>
</div>
		
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Altas usuarios</h3>
<ul>
<li>select rowid, a.* from seg0200  a where lower(seg02login)='elr55d'</li>
<br>
<li>select rowid, a.* from scr1100 a where seg02id='3455'</li>
<br>
<li>select * from scr1200 where seg02id='3455'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Saldo libros estupefacientes</h3>
<ul>
<li>select fr13codlibroestupef, fr13fecpeticion, fr13entrada, fr13salida, fr13saldos, ad02coddpto, fr73codproducto, sg02cod_add, fr79codproveedor, frw40codalmacens,fr13fecadd from fr1300 where fr73codproducto in (7988) and frw40codalmacens=64</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Servicios sin guía</h3>
<ul>
<li>select a.*,c.*,b.*,d.* from ad0200 a,org2000 b,org2000d c,fch4300 d where ad32codtipodpto=1 and ad02coddpto=org20idextservice and b.org20idservice=c org20idservice and ad02fecfin is null and b.org20idservice=d.org20idservice(+) and fch24idguide is null</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Solapamientos</h3>
<ul>
<li>Hay que la fecha/hora de inicio/fin no coincida con la fecha/hora del siguiente.</li>
<br>
<li>select * from ci2200 where ci22numhistoria='45818'</li>
<br>
<li>select rowid, a.* from ad0100 a where ci21codpersona='70536' order by ad01fecinicio desc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Unidades por defecto pactos</h3>
<ul>
<li>select * from seg2500 where seg25codparam='swtunitreq'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Gestión de usuarios</h3>
<ul>
<li>select rowid, a.* from seg0200 a where lower(seg02login)='fgr25d'</li>
<br>
<li>select * from seg0100d</li>
<br>
<li>select rowid, a. * from sg0200 a where lower(sg02cod)='fgr25d'</li>
<br>
<li>select * from sg0100</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Pacientes ingresados</h3>
<ul>
<li>select count(1) from ad1500 where ad15fecfin is null ---número de camas activas</li>
<br>
<li>select count(1) from ad1500 where ad01codasistenci is not null and ad15fecfin is null ---número de pacientes ingresados</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Parametrización llamadas externas</h3>
<ul>
<li>select * from ing9100</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Versión V3 en BBDD</h3>
<ul>
<li>select * from esinstall</li>
<br>
<li>select * from esupdate order by FECHA_ALTA desc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Combo departamentos protocolos</h3>
<ul>
<li>select * from ad0200 where ad02indresponproc=-1</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Bloquear externos en MIRA</h3>
<ul>
<li>select * from seg2500 where SEG25CODPARAM='MPROAMB'</li>
<br>
<li>Vacío: todos los ámbito lectura/escritura</li>
<br>
<li>Según código de asistencia ADM2700D, se pueden poder varios separados por comas: SEG25DEFVALUE</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Aporta volumen</h3>
<ul>
<li>select * from fch5900</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Instrucciones de administración</h3>
<ul>
<li>select * from pet4200</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Indicaciones & observaciones</h3>
<ul>
<li>select * from fch6600</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Horas detalle paciente</h3>
<ul>
<li>select rowid, a.SEG25CODPARAM,a.SEG26CODTYPE,a.SEG25DEFVALUE,a.SEG25USERVALUE from seg2500 a where SEG25CODPARAM='HHBACKADM' or SEG25CODPARAM='HHFORWADM' or SEG25CODPARAM='HHBACKMB'or SEG25CODPARAM='HHFORWMB'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Protocolos y sus guías</h3>
<ul>
<li>select distinct c.fch24desguide,a.pet10desprotocol,a.pet10idprotocol from pet1000j a,pet2300 b,fch2400dj c where pet10active=1 and a.fch24idguide is null and a.pet10idprotocol=b.pet10idprotocol and b.fch24idguide=c.fch24idguide(+)</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Prefijo para informes RPT</h3>
<ul>
<li>select * from sg2500 where codparam='prefinfcen' ---se configura para que primero coja el prefijo que le indicas en</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>No farma</h3>
<ul>
<li>select fr00desgrpterap, fr73codintfar, fr73desproducto from fr7300, fr0000 where fr73codintfar like 'y%' and fr73fecfinvig is null and fr7300.fr00codgrpterap=fr0000.fr00codgrpterap order by 1,3</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Nombre doctor en los estupes</h3>
<ul>
<li>select * from seg2500 where seg25codparam='signdr_srq'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Nombre PYXIS</h3>
<ul>
<li>select * from int1300</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Log</h3>
<ul>
<li>C:\Proyectos\pmUnica\log</li>
<br>
<li>C:\Proyectos\bdcmmith\log</li>
<br>
<li>C:\Proyectos\bdcm\log</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Login V3 en minúsculas</h3>
<ul>
<li>update sg0200 set SG02CODEXT = lower(sg02cod) where SG02COD in ('AMR14V', 'ARR20A', 'ASA72J')</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Ocultar crónicos</h3>
<ul>
<li>select * from seg2500 where seg25codparam='pmswtchron'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Orden pestañas desde SELENE</h3>
<ul>
<li>select * from seg0100_modorder</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Diagnóstico facturación</h3>
<ul>
<li>select rowid,a.frs3coddiagnostico from fr7300_od a where fr73codproducto='14146' ---v3</li>
<br>
<li>select * from frs300 ---maestra v3</li>
<br>
<li>select * from fchc250c ---diagnóstico/producto/centro mira</li>
<br>
<li>select * from fch2500 ---maestra diagnóstico mira</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Devolución botiquines</h3>
<ul>
<li>select * from frd400</li>
<br>
<li>select * from frd401j</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Departamentos combo protocolos</h3>
<ul>
<li>select * from ad0200 where ad02indresponproc=-1</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Deducciones</h3>
<ul>
<li>select FR92CODIGO from fr7300 where FR73CODNAC='600010'</li>
<br>
<li>select * from fr9200</li>
<br>
<li>select * from fr9200 ---maestra deducciones</li>
<br>
<li><strong>FR7300:</strong> el cod de deducciones viene en el campo FR92CODIGO</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Conversión UM</h3>
<ul>
<li>fch36, fch60 y fch04</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Código de barras e IVA</h3>
<ul>
<li>select distinct (c.fch50idproduct),a.FCH50CODINT from fch6000 c, fch6000 h, fch5000 a where c.est01codcenter=0 and c.fch50idproduct=a.fch50idproduct and h.est01codcenter!=0 and c.fch50idproduct =h.fch50idproduct and nvl(c.fch31idvat,0)!= nvl(h.fch31idvat,0)</li>
<br>
<li>select distinct (c.fch50idproduct),b.FCH50CODINT from fch6000 c, fch6000 h,fch5000 b where c.est01codcenter=0 and c.fch50idproduct=b.fch50idproduct and h.est01codcenter!=0 and c.fch50idproduct =h.fch50idproduct and nvl(c.FCH60BARCODE,0)!= nvl(h.FCH60BARCODE,0) and b.EST05IDVALUE_CLS=49</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dispensación lote cantidad NHC</h3>
<ul>
<li>select c.ci22numhistoria,FR28DESPRODUCTO, FRU7FECADD FECHA_DISP, fru7cantdispensada CANTIDAD from fru400 a, fru700 b, ad0100 c where a.fru04codint=b.fru04codint and a.ad01codasistenci=c.ad01codasistenci and fru7codinterno in (SELECT FRD1CODFK FROM FRD100 WHERE FRD1CODINTERNO IN (213791, 208569 207853))</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Albarán valorado</h3>
<ul>
<li>select rowid, a.* from fr6500 a where FR73CODPRODUCTO='23230' and CI21CODPERSONA='800785'</li>
<br>
<li>select * from ci2200 where CI22NUMHISTORIA='620483'</li>
<br>
<li>select * from fr7300 where FR73CODINTFAR='P-346976'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Control lotes de entrada</h3>
<ul>
<li>FRP10INDCTRLLOTE, FR73INDCTRLOTSAL, FR73INDCADESP</li>
<br>
<li>select rowid, a.FRP10INDCTRLLOTE from frp1000 a where FRP10CODINTFAR='PR-002900'.</li>
<br>
<li>select rowid, a.FR73INDCTRLOTSAL, FR73INDCADESP from fr7300 a where FR73CODNAC in ('677380','654536')</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Continuo urgencias a planta</h3>
<ul>
<li>ADTA03 >>> 1.6 = A</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cola de impresión</h3>
<ul>
<li><strong>DETENER SERVICIO:</strong></li>
<p>net stop spooler</p>
<li><strong>BORRAR COLA DE IMPRESIÓN:</strong></li>
<p>C:\WINDOWS\system32\spool\PRINTERS</p>
<li><strong>ACTIVAR SERVICIO:</strong></li>
<p>net start spooler</p>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Check fijar volumen</h3>
<ul>
<li>update fch6100 set FCH61SWTCTECONC = null where EST01CODCENTER =3 AND FCH61SWTCTECONC=0</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Centro por usuario</h3>
<ul>
<li>El usuario tiene que tener su centro correspondiente para que pueda acceder a las guías por centro.</li>
<br>
<li>select * from est0100d</li>
<br>
<li>select rowid, a.* from seg4000 a where SEG02ID=1296</li>
<br>
<li>select * from seg0200 where SEG02LOGIN='ogm61g'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Carro cama</h3>
<ul>
<li>select * from fr3300 where AD15CODCAMA='BP-107'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cambiar hora carros</h3>
<ul>
<li>Mantenimiento carros >>> Programación carro</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cadena de conexión DISCOVERER</h3>
<ul>
<li>C:\Ora11g\network\admin</li>
<br>
<li>dba11g_wh - dba11g_wh</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Compras último año sin vigencia</h3>
<ul>
<li>select distinct b.fr73codintfar,b.fr73codnac,b.fr73desproducto,b.fr73fecfinvig from fr2500 a,fr7300 b where a.fr73codproducto=b.fr73codproducto and fr73fecfinvig is not null and fr25fecadd>TO_DATE('30/03/2020', 'DD/MM/YYYY') order by b.fr73fecfinvig asc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Alergias</h3>
<ul>
<li>select * from fch4600 ---contenedor</li>
<br>
<li>pet9000/pet9000d ---mira</li>
<br>
<li>No válidas: Verificar el campo <AL1.3> y comprobar que en la tabla 'frt900' se ha registrado de forma correcta, sino, volver a procesar y si se ha procesado ignorar</li>
<br>
<li>select * from frt9000 ---selene</li>
<br>
<li>frt600/frt400/frt900 ---paciente</li>
<br>
<li>select b.* from ci2200 a, frt900 b where a.ci21codpersona=b.ci21codpersona and ci22numhistoria=325521</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Intervenciones</h3>
<ul>
<li>select * from pet3700</li>
<br>
<li>select * from pet0500 where PET37PHARMINTERV</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Interacciones</h3>
<ul>
<li>select * from fch1300d</li>
<br>
<li>select * from fch1400d</li>
<br>
<li>select * from fch1500d</li>
<br>
<li>select * from fch1600</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Instrucciones de administración en protocolos</h3>
<ul>
<li>select * from pet1000d where PET10DESPROTOCOL like 'GINECOLOGIA%' ---sacar de pet1000d el pet10idprotocol</li>
<br>
<li>select * from pet1102j where PET10IDPROTOCOL in (271,32) --and DESCLINE like 'METAMIZOL 2000 MG AMP/VIAL 5 ML PERFIV%' ---filtrar en pet1102j por pet10idprotocol y sacar pet11idline</li>
<br>
<li>select rowid, a.* from pet1700 a where PET11IDLINE in (63,1194) ---añadir instruccion en la pet1700</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Impresión en térmico directo GODEX</h3>
<ul>
<li>^ad</li>
<li>^xset,lockcmd,0020</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Iconos detalle pauta</h3>
<ul>
<li>select * from est0800 where EST05IDVALUE=367</li>
<br>
<li>select * from est0500d where EST05IDVALUE=367</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Iconos MIRA</h3>
<ul>
<li>Si 'hugeblob' sale en minúsculas es que no tiene icono</li>
<br>
<li>select * from scr9000 ---todos</li>
<br>
<li>select * from fch4200 ---por producto</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Grupos terapéuticos</h3>
<ul>
<li>select * from fch1000</li>
<br>
<li>select * from fch4600</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Grupo clínico</h3>
<ul>
<li>seg25.clinic_gr = 1 ---activar dosificacion por grupo clinico:</strong></li>
<br>
<li>select * from pac3200 ---grupos clínicos</li>
<br>
<li>select * from fch3000d ---de una MIV:</strong></li>
<br>
<li>ingc400 ---configurar</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Multiguía</h3>
<ul>
<li>select * from seg2500 where seg25codparam = 'swtmulgupm'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Función renal</h3>
<ul>
<li>select FRP10CODINTFAR,FRP10DESPRESENTACION,FRP10OBSFUNRENAL from frp1000 where FRP10INDFUNRENAL='-1' and FRP10FECFINVIG is null ---productos vigentes con función renal activada y observaciones</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Frecuencias favoritas color azul</h3>
<ul>
<li>select * from fch5700</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Quitar vigencia departamentos</h3>
<ul>
<li>select * from ad0300 where ad03fecfin is not null</li>
<br>
<li>update ad0300 set ad03fecfin=null where ad03fecfin is not null</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Usuarios por nodo</h3>
<ul>
<li>select * from seg3400</li>
<br>
<li>select count(*) from seg3400</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Vías de administración</h3>
<ul>
<li>select * from fch5600 ---todas las vías del producto a nivel de sms:</strong></li>
<br>
<li>select * from fch5900 ---vías del centro</li>
<br>
<li>select * from fch0100j ---descripción de las vías</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Usuarios admin TOAD</h3>
<ul>
<li>dba_wh/dba_wh</li>
<br>
<li>savac_wh/Cerruti1881</li>
<br>
<li>SYSTEM/Savac123456</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Usuarios conectados a la BD</h3>
<ul>
<li>select sid, osuser, machine, terminal from v$session where username is not null order by username asc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Updatear mensajería</h3>
<ul>
<li>Cuando no quiere que se genere mensajeria hacia mira se tiene que desabilitar el trigger que empieza por intec_nombre de la tabla que vas a updatear.</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>UBICAR PRODUCTO EN ALMACÉN</h3>
<ul>
<li>Faltaba asociarlo al genérico para poder darlo de alta en en los almacenes, se ha creado una incidencia a desarrollo para que lo haga de forma automática.</li>
<br>
<li>Pero al recepcionar pedido tienen problemas al no poder ubicarlo en el almacén.</li>
<li>Asociar el genérico a mano en V3.</li>
<br>
<li>La relacion marca/almacen principal no está en la frw6000, es la propia fr7300, tiene que tener el fr73indalmacen=-1 y no tener fecfinvigalm</li>
<br>
<li>select fr73indalmacen, fr73fecfinvig_alm, a.rowid,  a.* from fr7300  a where fr73codnac = 728730</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>No enviar cargos/abonos al KARDEX</h3>
<ul>
<li>select * from sg2500 where codparam='indintea'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>No hay ninguna fila actual TELEFARMACIA</h3>
<ul>
<li>tf1000, tf1100, tf2000</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Orden pestañas desde SELENE</h3>
<ul>
<li>select * from seg0100_modorder</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Número mayor de filas</h3>
<ul>
<li>Borrar registros duplicados de potasio, creatinina, peso o talla.</li>
<br>
<li>select rowid, a.* from ad3800 a where ad01codasistenci in (select ad01codasistenci from ad0100 where ci22numhistoria='125703') order by 2 desc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Localidades/municipios/direcciones</h3>
<ul>
<li>select * from ci1000 where ci21codpersona='21' ---dirección</li>
<br>
<li>select * from ci2200 where ci21codpersona='21' ---dirección</li>
<br>
<li>select * from ci1600 ---localidades</li>
<br>
<li>select * from ci1700 ---municipios</li>
<br>
<p>CI10INDDIRPRINC ---tiene que estar a -1 para dirección principal, antes no era obligatoria y ahora tiene que tener una</p>
<br>
<li>
declare cursor c1 is select distinct ci21codpersona from ci1000;
conta number :=0;
begin
for c in c1 loop
update ci1000 set CI10INDDIRPRINC=-1 where CI10INDDIRPRINC is null and ci21codpersona=c.ci21codpersona;
conta := conta +1;
if conta = 1000 then commit; end if;
end loop;
commit;
end; ---cursor para updatear muchos registros con commit cada 1000 registros</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Marcas & jerarquías</h3>
<ul>
<li>select * from frp1300 ---marcas asociadas a presentaciones</li>
<br>
<li>select * from fch7000 ---jerarquías</li>
<br>
<li>select * from frp2300 ---marca preferente dispensación</li>
<br>
<li>select * from frp2500 ---marca preferente compra</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Mensajería contraseña</h3>
<ul>
<li>S4v4c.20!6</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Mensajería pendiente</h3>
<ul>
<li>select * from int0200 where int02fecadd >sysdate -1 and int02procesado=0 order by int02fecadd desc ---revisar que se crean los eventos:</li>
<br>
<li>select * from int0600 where int06estado='p'  and int06fecadd > sysdate -1 order by int06fecadd desc ---revisar que se procesan los eventos</li>
<br>
<li>select ad01fecadd from ad0100 order by ad01fecadd desc ---mensajeria encolada, si no hay registros actuales es que no está entrando la mensajería</li>
<br>
<li>Si hay mensajes encolados reiniciar JBOSS</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Mensajes enviados MIRA</h3>
<ul>
<li>select * from pet2500</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Movimientos & consumos</h3>
<ul>
<li>select * from fr9000 ---tipos de movimientos</li>
<br>
<li>select * from fr8000 ---movimientos almacén</li>
<br>
<li>select * from fr6500 ---consumos</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Multidosis</h3>
<ul>
<li>frp10.frp10indmultidos</li>
<br>
<li>fr73.fr73indprn</li>
<br>
<li>sg25.fchmulti.sg2500</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Médico peticionario</h3>
<ul>
<li>select * from fch6000 where fch60swtreqdoctor = 1</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>No formulario en protocolos</h3>
<ul>
<li>Sacar de pet1000d el pet10idprotocol</li>
<br>
<li>Filtrar en pet1102j por pet10idprotocol y sacar pet16idsession</li>
<br>
<li>En la pet1200 filtar por pet16idsession</li>
<br>
<li>Cambiar pet12desproduct por la descripción que necesitamos y et12swtcteconcentr a valor 1</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Número de un determinado protocolo</h3>
<ul>
<li>select distinct pac01mrn,replace(descprotocol,substr(descprotocol,-22))
from pet0501j a,pet0000 b,pac0100 c
where b.pet00idmp=a.pet00idmp
and b.pac01idpatient_int=c.pac01idpatient_int
and descprotocol like '%sepsis%'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Ordenar perfil FTP por NHC</h3>
<ul>
<li>select rowid, a.* from sg2500 a where codparam='ordftpnhis'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Pacientes ingresados con PM en estado redactado</h3>
<ul>
<li>select * from org0700 a, org0600 b, adm1100 c, pac0100 d, pet0000 h where a.org06idlocation=b.org06idlocation and
a.adm11codproc_asist=c.adm11codproc_asist and c.pac01idpatient_int=d.pac01idpatient_int
and c.pac01idpatient_int=h.pac01idpatient_int and est05idvalue_sp=192</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dispensaciones ya hechas de un paciente</h3>
<ul>
<li>select a.* from fru400 a, ad0100 b where a.ad01codasistenci = b.ad01codasistenci and ci22numhistoria = 93314</li>
<br>
<li>select * from fru700 where fru04codint = 305789</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Peticiones botiquines</h3>
<ul>
<li>select count(pet60codalbaran), c.seg02login, org01name, org01lastname, org01lastname2
from pet6000 a, org2000d b, seg0200  c, org0100 d
where est05idvalue_tr=144
and pet60datadd>sysdate-365
and a.seg02id_add=seg02id
and org01id=seg02id
and a.org20idservice=b.org20idservice
group by c.seg02login, org01name, org01lastname, org01lastname2 --pet60codalbaran, org20descservice, c.seg02login
order by 1 desc</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Peticiones botiquines departamento</h3>
<ul>
<li>select ad02desdpto from fr5500 a, ad0200 b where a.ad02coddpto=b.ad02coddpto and fr55fecadd>to_date('01/01/2021 00:00:00','dd/mm/yyyy hh24:mi:ss')</li>
<br>
<li>select distinct( b.sg02cod_add), c.sg02nom,c.sg02ape1,c.sg02ape2,d.sg01des from fr5500 b, sg0200 c, sg0100 d where b.sg02cod_add=c.sg02cod and d.sg01cod=c.sg01cod and b.fr55fecadd > to_date('01/01/2021 09:48:04', 'mm/dd/yyyy hh24:mi:ss') and b.fr55fecadd <sysdate order by 5</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Peticiones enviadas al KARDEX</h3>
<ul>
<li>c:\sap\entrada\kdxrecibidos</li>
<li>|74|obs-b.29|o|p-346587|plavix 75 mg 50 comprimidos cubierta pel|1|21-06-22 00:39:10|garcia|gonzalez|salvador||control de observacion b de urgenc|908720p||0 ⇒ si el mensaje viene a 0 es que desde el kdx han cancelado la petición de forma manual.
|96|scm-04|o|122614|apidra 100ui/ml 1 vial 10ml solucion inyectable|1|21-06-21 20:07:11|martinez|coronado|diego||sala de cuidados medios|908684p||1 ⇒ unidades dispensadas</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Piano</h3>
<ul>
<li>select rowid, a.* from seg2500 a where seg25codparam = 'maxmultloc' ---máximo camas a mostrar</li>
<br>
<li>select rowid, a.* from seg2500 a where seg25codparam = 'maxmultres' ---máximo número de ubicaciones a mostrar</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Ping a cadena de conexión</h3>
<ul>
<li>tnsping 10.181.161.77:1522 100000 > c:\logsavac.txt</li>
<br>
<li>10000: veces que lo ejecuta</li>
<br>
<li>>: guarda log</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>PM a futuro</h3>
<ul>
<li>select * from seg2500 where seg25codparam = 'futurnoact'</li>
<li><img src="images/futuro2.png"</li>
<li><img src="images/futuro1.png"</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>PR en guía MC no</h3>
<ul>
<li>select * from frp2300 a where fr73codproducto not in (select fr73codproducto from fr8300 where fr82codguia=0) and frp10idpresentacion in (select frp10idpresentacion from fr8500 where fr82codguia=0)</li>
<br>
<li>select * from frp1000 where frp10idpresentacion in (5077,3130,2065)</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Precio envases</h3>
<ul>
<li>fch50labprice ---pvl envase</li>
<br>
<li>fch60packprice_sale ---pvp envase (iva inc.)</li>
<br>
<li>fch31idvat ---iva</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Principio activo ATC</h3>
<ul>
<li>frp2100, fch0600, fr7300_od ---tablas</li>
<br>
<li>fr6400, fch5100 ---relación producto/ppo</li>
<br>
<li>fr6800, fch0500 ---maestro</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos diluibles</h3>
<ul>
<li>select * from fch5000 where fch50desproduct like '%remifen%'</li>
<br>
<li>update fch5000 set fch50swtdilutable=1 where fch50idproduct=17129</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos duplicados</h3>
<ul>
<li>Cuando salen productos duplicados en el buscador es porque tiene dos marcas preferentes para dispensación o compra, se debe dejar solo una.</li>
<br>
<li>select * from frp2300 where frp10idpresentacion=2213</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos incluidos en la MIV</h3>
<ul>
<li>select * from fch5000 where fch50desproduct like 'ampicil%' ---localizas la MIV</li>
<br>
<li>select * from fch6100 where fch50idproduct=23320 ---dosificación por GC</li>
<br>
<li>select * from fch7400 where fch61iddosage in (303653,303654) ---productos contenidos en la MIV</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos no llegan al PYXIS</h3>
<ul>
<li>select b.fru7codinterno, b.fr28desproducto, c.fru4fecadd, c.ad01codasistenci 
from correspondenciaproceso a, fru700 b, fru400 c where a.asistencia=c.ad01codasistenci and b.fru04codint=c.fru04codint and a.historia=294656
order by c.fru4fecadd desc, b.fru7codinterno, b.fr28desproducto,  c.ad01codasistenci</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos PRN no salgan en el carro</h3>
<ul>
<li>select * from sg2500 where codparam='prncarro'</li>
<br>
<li>select * from sg2500 where codparam like '%prn%'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos que están en BDCM y no en V3</h3>
<ul>
<li>Se puede dar el caso que el producto baje a bdcm pero no a v3, en ingb100 te dice los errores de los triggers MIRA/V3.</li>
<br>
<li>No sé porque ese producto se ha quedado sin código externo y entonces, luego no puede ponerle componentes como principios activos.</li>
<li>El FR73CODPRODUCTO ES EL FCH50CODEXT</li>
<br>
<li>Para corregir estos casos cree un procedimiento en savac que se llama insertar_v3 y al que se le pasa el fch50idproduct y se encarga de hacer que el producto baje a v3. cuando ejecutes el inserta v3 en la casilla input pones el fch50idproduct.</li>
<br>
<li>select rowid, a.* from fch5000 a where fch50codext is null</li>
<br>
<li>select * from fr7300 where fr73codnac in ()</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Productos sanitarios</h3>
<ul>
<li>select rowid, a.fr73indprodsan from fr7300 a where fr73codnac='492181'</li>
<br>
<li>En bdcm desmarcar el check "producto sanitario"</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Propuestas y alertas BDCM WEB</h3>
<ul>
<li>select * from inf.inf2000</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Protocolos</h3>
<ul>
<li>select * from pet1000d where pet10desprotocol like 'trauma%'</li>
<br>
<li>select * from pet1102j where pet10idprotocol=395</li>
<br>
<li>select * from pet1100 where pet11idline=2549</li>
<br>
<li><strong>Pautados:</strong> select * from pet4000</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Recetario</h3>
<ul>
<li>select * from seg2500 where seg25codparam='recipenarc'</li>
<br>
<li>select * from seg2500 where seg25codparam='recipeec'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Refresco pantalla MIRA</h3>
<ul>
<li>select * from seg2500 where seg25codparam='mtodotimer' ---refresco en minutos pantalla principal</li>
<br>
<li>select * from seg2500 where seg25codparam='padettimer' ---refresco en minutos detalle del paciente</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Ruta etiquetas V3</h3>
<ul>
<li>select * from sg2500 where descparam like '%etiq%'</li>
<br>
<li>select rowid, a.* from sg2500 a where codparam like 'impet%'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Actualizar precios BDCM WEB</h3>
<ul>
<li>Centros: Borrar los datos de la tabla actualiza_compras de todos los centros, cargar los datos del excel en la tabla actualiza_compras de un centro y después copiar esos datos a los demás, lanzar procedure actualiza_compras con partipo = centro y después con partipo = bdcm</li>
<br>
<li>Centrales: Borrar los datos de la tabla actualiza_compras, cargar los datos del excel en la tabla actualiza_compras.</li>
<br>
<li>Parar mensajería intgr - triggers - intgr_47 disable</li>
<br>
<li>Lanzar procedure actualiza_compras con partipo = bdcm</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Alertas PM</h3>
<ul>
<li>pet9000.pet90swtvisible ---alerta en la firma</li>
<br>
<li>pet9000.pet90swtvisibleval ---alerta en la validación</li>
<br>
<li>pet9000.pet90swtvisibleadm ---alerta al administrar</li>
<br>
<li>pet9400 ---colores en las líneas de PM</li>
<br>
<li>pet9400.pet94wrntype ---tipo de alerta, fin de pauta, producto</li>
<br>
<li>pet9400.pet94swtvisible ---alerta visible o no</li>
<br>
<li>pet9400.pet94swtcontinue ---alerta restrictiva, permite continuar o no</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Código de barras</h3>
<ul>
<li>fch6000.fch60barcode</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Actualizar contraseña y grupo de usuario</h3>
<ul>
<li>update sg0200 set sg01cod='todo' where sg02cod='jdm83p'</li>
<br>
<li>update sg0200 set sg02passw='022avl95g8hpgh' where sg02cod='jdm83p'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Alergias paciente por componente</h3>
<ul>
<li>select a.ci22nombre, a.ci22priapel, a.ci22segapel, b.frt9texto
from ci2200 a, frt900 b where a.ci21codpersona=b.ci21codpersona and frt9texto like '%penicilina%'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Alergias paciente en listado</h3>
<ul>
<li>select distinct pac01mrn,fch05desap
from pac3000 a,fch0500j b,pac0100 c
where est05id_type=154
and pac30datadd>='28/10/2019'
and fch05idap=a.pac30idfk
and a.pac01idpatient_int=c.pac01idpatient_int
and fch47idct=8
union all
select distinct pac01mrn,fch10destg
from pac3000 a,fch1000j,pac0100 c
where est05id_type=154
and pac30datadd>='28/10/2019'
and fch47idct=11
and a.pac01idpatient_int=c.pac01idpatient_int
and fch09idtyptg||'|'||fch10idtg=pac30idfk</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Llamada consulta de existencias</h3>
<ul>
<li>"c:\program files (x86)\savac\launcherprod.exe" us:[useridext];pi:[userpasswordencryptedbd];pr:fr0095</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Consulta informe kit</h3>
<ul>
<li>select formula.fr73desproducto,
frs3300.frs33codlibrokit,
frh700.frh7desformfar,
frs3300.frs33cantifabricada,
frs3300.frs33fecfabricacion,
frs3500.frs35dosis / frs3300.frs33cantifabricada as frs35dosis,
nvl2 (
frp1000.frp10idpresentacion,
frp1000.frp10despresentacion
|| '('
|| escandallo.fr73desproducto
|| ')',
escandallo.fr73desproducto)
as prodescandallo,
escandallo.fr73codproducto as codproducto,
nvl (frp1000.frp10codintfar, escandallo.fr73codintfar) as codintfar,
frs3500.fr93codunimedida,
frs33desproceso,
fr1.frfn16 (frd100.frd1codinterno, -1) frs35lote,
frs3500.frs35caducidadlote,
frs3500.frs35dosis as dosistotal,
frs33feccaducidad,
escandallo.fr73codnac,
nvl (formula.fr73obscitostaticos, frp10obscitostaticos) observaciones,
frs35elaboracion,
frs35acondicionamiento,
frs33indicacionespac,
frs33controlanalitico,
frs33refbibliografica,
nvl (fr6900.fr69fecupd, fr6900.fr69fecadd) fecultrevis69,
(select max(nvl(fr7100.fr71fecupd, fr7100.fr71fecadd) ) from fr7100 where fr7100.fr69codprocfabric=fr6900.fr69codprocfabric) fecultrevis71,
frs3300.frs33deslote,
frs3300.frs33observaciones
from fr7300 formula,
fr7300 escandallo,
frs3300,
frs3500,
frh700,
frp1300,
frp1000,
frd100,
fr6900
where frs3300.fr73codproducto = formula.fr73codproducto
and escandallo.fr73codproducto = frs3500.fr73codproducto
and formula.frh7codformfar = frh700.frh7codformfar(+)
and formula.fr73codproducto = fr6900.fr73codproducto
and frs3500.frs33codlibrokit = frs3300.frs33codlibrokit
and escandallo.fr73codproducto = frp1300.fr73codproducto(+)
and frp1300.frp10idpresentacion = frp1000.frp10idpresentacion(+)
and frs3500.frs35codinterno = frd100.frd1codfk(+)
and frs3300.frs33codlibrokit = 296
and frd100.fr90codtipmov(+) = 1
and frs35elaboracion = 0
and frs35acondicionamiento = 0
order by frs35orden</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosificaciones vacías</h3>
<ul>
<li>select b.fch50codint, b.fch50desproduct, a.fch61dose from fch.fch6100 a, fch5000 b where a.fch50idproduct=b.fch50idproduct and a.est01codcenter in(3) and a.fch61dose is null</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Consultar dispensaciones paciente</h3>
<ul>
<li>select * from fru200 where ad01codasistenci in (select asistencia from correspondenciaproceso where historia=9017811)</li>
<br>
<li>select * from fru700 where fru04codint in (select fru04codint from fru400 where ad01codasistenci in (select asistencia from correspondenciaproceso where historia=9017811))</li>
<li>select * from fr6600 where fr66codpeticion=xx</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>MIRA 1.16.1</h3>
<ul>
<li>Autovalidación en BDCM</li>
<br>
<li>Autovalidación en MIRA</li>
<br>
<li>Prescripción de Enfermería BDCM</li>
<br>
<li>Prescripción de Enfermería MIRA</li>
<br>
<li>Prescripción de Enfermería MIRA Mobile</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Cuadrar pactos MIRA/V3</h3>
<ul>
<li>select * from pet7000 where pet70swtactive = 1 and pet70codext not in (select  fr41codgrupprod codgroup from fr4100 where fri7codtipgrp=3) ---pactos mira</li>
<br>
<li>select  fr41codgrupprod from fr4100 where fri7codtipgrp=3 and fr41codgrupprod not in (select pet70codext from pet7000) ---pactos v3</li>
<br>
<li>DECLARE 
pet70           number(9);
org20           number(15);
fch50           number(9);
cursor eliminar is
select * from pet7000 where pet70swtactive = 1 and pet70codext not in (select  fr41codgrupprod codgroup from fr4100 where fri7codtipgrp=3);
cursor c1 is 
select  fr41codgrupprod codgroup, fr41desgrupprod descgroup, to_char(ad02coddpto) dpto, decode(fr41fecfinviggp,null,1,0) active
from fr4100 where fri7codtipgrp=3 and fr41codgrupprod not in (select pet70codext from pet7000);
cursor c2(v1 varchar2) is
select fr73codproducto fr73 , fr41codgrupprod fr41, fr09cantproducto unidades, nvl(frp10idpresentacion,0) frp10
from fr0900 where fr41codgrupprod = v1;
begin
for elim in eliminar loop  
update pet7100 set pet71datend = sysdate where pet70idpact = elim.pet70idpact;
update pet7000 set pet70swtactive=0 where  pet70idpact = elim.pet70idpact;
end loop;
for curr in c1 loop  
select pet.pet70idpact_sq.nextval into pet70 from dual;
select org20idservice into org20 from org.org2000 where org20idextservice=curr.dpto;
insert into pet.pet7000j 
(pet70idpact, org20idservice, pet70swtactive, pet70codext, pet70despact)
values
(pet70, org20, curr.active, curr.codgroup, curr.descgroup);
for prodpacto in c2(curr.codgroup) loop
begin
--presentacion 
select fch50idproduct into fch50 from fch.fch5000 where est05idvalue_cls =50 and fch50codext=prodpacto.frp10;
exception when no_data_found then  
--mc 
select fch50idproduct into fch50 from fch.fch5000 where est05idvalue_cls =49 and fch50codext=prodpacto.fr73;
end;
insert into pet.pet7100 ( fch50idproduct, pet70idpact, pet71units, pet71notexceed)
values
(fch50, pet70,prodpacto.unidades , 0 );
end loop;
commit;
end loop;
commit;
end cargapactos; ---sincronizar pactos</li>
</ul>
</div>
		
<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Desbloquear PM en V3</h3>
<ul>
<li>select rowid, a.* from frl800 a</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Descripción proveedor</h3>
<ul>
<li>select * from frm0200 where frm02refproveedor='xxx'</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Dosis máxima por principio activo</h3>
<ul>
<li>select  d.fch05desap,fch30descligroup,a.fch76dose,fch04desum,e.est05desvalue,f.est05desvalue,a.fch76days
from fch.fch7600 a,fch0400d b,fch3000d c,fch0500d d,est0500d e,est0500d f
where a.est01codcenter=11
and a.fch04idum=b.fch04idum
and a.fch30idcligroup=c.fch30idcligroup
and a.fch05idap=d.fch05idap(+)
and a.est05idvalue_typdos=e.est05idvalue(+)
and a.est05idvalue_factor=f.est05idvalue(+)
order by d.fch05desap,a.fch30idcligroup</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Disociar datos</h3>
<ul>
<li>update pac.pac0100 set pac01name = 'name - ' || pac01mrn,  pac01lastname1 = 'lastname1 - ' || pac01mrn ,
pac01lastname2 = 'lastname2 - ' || pac01mrn, pac01idnumber = null, pac01cip= null, pac01ssnnum= null;
commit;
update org.org0100 set org01name = 'name - ' || org01id, org01lastname = 'lastname - ' || org01id ,
org01lastname2 ='lastname2 - ' || org01id, org01numcolleg=1
where org01id > 0;
commit;</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Duplicados peso, talla, creatininia y potasio</h3>
<ul>
<li>select ad01codasistenci, ad38creatinina, ad38superfcorp, ad38potasio, ad38peso, ad38altura, ad38fecinicio, count(ad38fecadd) from ad3800 group by ad01codasistenci, ad38creatinina, ad38superfcorp, ad38potasio, ad38peso, ad38altura, ad38fecinicio having count (ad38fecadd) > 2</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Marcas preferentes de dispensación</h3>
<ul>
<li>select a.frp10idpresentacion, FR04ENTIDAD,count(1) from frp2300 a group by a.frp10idpresentacion,FR04ENTIDAD having count(1)>1 ---pr con más de una marca preferente de dispensación</li>
<br>
<li><strong>BDCM: Si la consulta de arriba nos devuelve algo ir a BDCM para ver cual es la MPD</li>
<br>
<li>select * from frp2300 ---eliminar registro</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Usuarios genéricos</h3>
<ul>
<li>scm50h - Savac2022</li>
<br>
<li>jgb04x - 1Lunes00</li>
<br>
<li>aggc14h - 0Libanoz5</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3>Comparación jerarquía marca y presentación</h3>
<ul>
<li>select distinct m.fch50idproduct, m.fch50desproduct, m.fch50codint, m.fch50codnat, p.fch50desproduct, p.fch50codint,
decode(m.fch02iddf,p.fch02iddf,'s','n') FF,
decode(m.fch50dose_tot||' '|| m.fch04idum_tot,p.fch50dose_tot||' '|| p.fch04idum_tot,'s','n') dosisTotal,
decode(m.fch50volume_tot, p.fch50volume_tot,'s','n') volTotal,
decode(m.fch50dose||' '||  m.fch04idum,p.fch50dose||' '||  p.fch04idum,'s','n') dosis  ,     
decode(m.fch50volume,p.fch50volume,'s','n') vol,
decode(m.fch09idtyptg ||'-'||   m.fch10idtg,p.fch09idtyptg ||'-'|| p.fch10idtg,'s','n') GT,
decode(m.fch22idtypprod,p.fch22idtypprod,'s','n') tipoPrd ,
decode(m.fch50swtmultidose,p.fch50swtmultidose,'s','n') multidosis,
decode(m.fch50content, p.fch50content,'s','n') contenido   ,
decode(m.fch50fdf, p.fch50fdf,'s','n') fracFor  
FROM FCH5000 m , FCH5000 p
wHERE p.fch50idproduct = 48289
and m.fch50idproduct = 25041</li>
</ul>
</div>

<div data-role="collapsible" data-collapsed="true" data-collapsed-icon="carat-d" data-inset="true">
<h3></h3>
<ul>
<li></li>
</ul>
</div>

</ul>
	
<div data-role="footer" data-position="fixed"><h4>ACTUALIZACIÓN OCTUBRE 2022</h4></div>

</body>
</html>









